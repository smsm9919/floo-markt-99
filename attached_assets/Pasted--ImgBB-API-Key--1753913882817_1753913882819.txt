âœ… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:
Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªØ´ØºÙŠÙ„: ÙŠØ·Ù„Ø¨ Ù…Ù†Ùƒ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ ImgBB API Key Ø¹Ø¨Ø± Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„.

ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙØªØ§Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ ÙÙŠ Ù…Ù„Ù .env.

ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙØªØ§Ø­ ÙÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ.

âœ… Ø¥Ø°Ø§ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ .env Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ù„Ø§ ÙŠØ·Ù„Ø¨Ù‡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.

ğŸ“„ Ù…Ù„Ù image_upload.py Ø§Ù„Ø¬Ø§Ù‡Ø²:
python
Copy
Edit
import os
import requests
import base64
from flask import Flask, request, render_template, redirect
from dotenv import load_dotenv

app = Flask(__name__)

# ========================
# ğŸ” Load or Request API Key
# ========================
def get_api_key():
    load_dotenv()
    api_key = os.getenv("IMGBB_API_KEY")

    if not api_key:
        print("ğŸ” Please enter your Imgbb API key:")
        api_key = input("â¡ï¸ API Key: ").strip()

        # Save to .env
        with open(".env", "a") as f:
            f.write(f"\nIMGBB_API_KEY={api_key}\n")
        print("âœ… API key saved to .env file.")

    return api_key


API_KEY = get_api_key()

# ========================
# ğŸŒ Image Upload Route
# ========================
@app.route("/", methods=["GET", "POST"])
def upload_image():
    if request.method == "POST":
        file = request.files["image"]
        if file:
            encoded_image = base64.b64encode(file.read()).decode("utf-8")
            url = "https://api.imgbb.com/1/upload"
            payload = {
                "key": API_KEY,
                "image": encoded_image
            }
            res = requests.post(url, data=payload)
            if res.status_code == 200:
                data = res.json()
                image_url = data["data"]["url"]
                return render_template("upload_result.html", image_url=image_url)
            else:
                return f"âŒ Error uploading image: {res.text}"
    return render_template("upload_form.html")

# ========================
# ğŸš€ Run App
# ========================
if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000)
ğŸ“„ templates/upload_form.html:
html
Copy
Edit
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø±ÙØ¹ ØµÙˆØ±Ø©</title>
</head>
<body>
    <h2>ğŸ“¤ Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ù„Ù„Ø±ÙØ¹</h2>
    <form action="/" method="POST" enctype="multipart/form-data">
        <input type="file" name="image" required>
        <button type="submit">Ø±ÙØ¹</button>
    </form>
</body>
</html>
ğŸ“„ templates/upload_result.html:
html
Copy
Edit
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</title>
</head>
<body>
    <h2>âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!</h2>
    <p><a href="{{ image_url }}" target="_blank">ğŸ“· Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©</a></p>
    <p>ğŸ”— Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±: <input value="{{ image_url }}" readonly></p>
</body>
</html>
âœ… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù…Ù†Ùƒ Ø§Ù„Ø¢Ù†:
Ø§Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø£Ø¹Ù„Ø§Ù‡ ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:

image_upload.py

templates/upload_form.html

templates/upload_result.html

Ø£ÙˆÙ„ Ù…Ø±Ø© ØªØ´ØºÙ„ Ø§Ù„Ù…Ù„ÙØŒ Ø³ÙŠØ·Ù„Ø¨ Ù…Ù†Ùƒ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API.

Ø³ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙØªØ§Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ ÙÙŠ .env.